
@page "/add-order"
@using BlazorApp1.Services;
@inject OrderService orderService;
@inject NavigationManager navigator;

<h3>New Order</h3>

<ShowOrder xorder="order" SaveOrder="Save"></ShowOrder>

<table class="table table-hover table-striped table-bordered">
    <thead>
        <tr>
            <th>Product</th>
            <th>Description</th>
            <th>Quantity</th>
            <th align="right">Unit Price</th>
            <th align="right">Total</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td contenteditable="true">
                <select name="xx" id="product">
                    <option value="0">-- Select Customer --</option>
                    <option value="1">Wheelchair</option>
                </select>
            </td>
            <td contenteditable="true">Standard wheelchair 20in</td>
            <td contenteditable="true" align="right">2</td>
            <td contenteditable="true" align="right">$65</td>
            <td align="right">$130</td>
            <td align="center">
                <a href="edit-order/@order.idOrder"><img src="icons/icon_edit_blue.png" width="16" height="16"></a>&nbsp
                <a><img src="icons/icon_delete_red.png" width="16" height="16"></a>
                <!--<button class="btn btn-secondary" @onclick="Edit">Edit</button>
                <button class="btn btn-danger" @onclick="Delete">Delete</button>-->
            </td>
        </tr>

        <!--@foreach (var item in orderList)
        {
            <OrderRow order="item" DeleteOrder="DeleteOrder"> </OrderRow>
        }-->
    </tbody>
</table>


@code {
    
    public Order order;

    protected override void OnInitialized()
    {
        base.OnInitialized();
        order = new();
    }


    public void Save(Order order)
    {
        orderService.Insert(order);
        navigator.NavigateTo("order-list");

        //redirect to list page
    }
}
