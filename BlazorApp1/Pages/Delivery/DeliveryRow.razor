@using BlazorApp1.Services;
@inject OrderService orderService;
@inject CustomerService customerService;
@inject NavigationManager navigator;



<tr>
    <td align="center"><a href="edit-order/@order.idOrder">@order.idOrder</a></td>
    <td>@order.date.ToString("MM/dd/yyyy")</td>
    <td>@yCustomer.FirstName</td>
    <td align="right">@order.quantityOfItems.ToString()</td>
    <td align="right">@order.totalAmount.ToString("c2")</td>
    <td>@order.note</td>
    <td align="center"><InputCheckbox @bind-Value="order.isDelivery" onclick="return false"></InputCheckbox></td>
    <td align="center">
        <a href="edit-order/@order.idOrder"><img src="icons/icon_edit_blue.png" width="16" height="16"></a>&nbsp
        <a @onclick="Edit"><img src="icons/icon_delete_red.png" width="16" height="16"></a>
    </td>
</tr> 

@code
{
    [Parameter]
    public Delivery order { get; set; }

    public Customer yCustomer;

    protected override void OnInitialized()
    {
        base.OnInitialized();
        yCustomerName();
    }

    public void yCustomerName() {
        yCustomer = customerService.GetById(order.idCustomer);
    }

    public void Edit()
    {
        navigator.NavigateTo($"edit-order/{order.idOrder}");

    }

    //Callback
}

